{"is_source_file": true, "format": "TypeScript", "description": "This file sets up an Express server that serves static files from a browser distribution folder and renders an Angular application server-side using Angular Universal's CommonEngine. It configures routing for static assets and dynamic rendering of the Angular app, and includes logic to start the server if the file is executed directly.", "external_files": ["@angular/common", "@angular/ssr/node", "express", "node:path", "node:url", "./main.server"], "external_methods": ["isMainModule", "CommonEngine.render"], "published": ["app"], "classes": [], "methods": [{"name": "render", "description": "Method used to render the Angular application server-side with specified options."}], "calls": ["express()", "express.static()", "commonEngine.render()", "app.listen()", "isMainModule()"], "search-terms": ["Angular Universal", "Express server", "server-side rendering", "TypeScript server setup", "Node.js server"], "state": 2, "file_id": 18, "knowledge_revision": 41, "git_revision": "aff1c4dc03eae5d52ce270e0d1683fe0dba6f2bc", "ctags": [{"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/figmatest-28358-24403/FigmaTestComponentLibrary/src/server.ts", "pattern": "/^const app = express();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "baseUrl", "path": "/home/kavia/workspace/code-generation/figmatest-28358-24403/FigmaTestComponentLibrary/src/server.ts", "pattern": "/^  const { protocol, originalUrl, baseUrl, headers } = req;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "browserDistFolder", "path": "/home/kavia/workspace/code-generation/figmatest-28358-24403/FigmaTestComponentLibrary/src/server.ts", "pattern": "/^const browserDistFolder = resolve(serverDistFolder, '..\\/browser');$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "commonEngine", "path": "/home/kavia/workspace/code-generation/figmatest-28358-24403/FigmaTestComponentLibrary/src/server.ts", "pattern": "/^const commonEngine = new CommonEngine();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/figmatest-28358-24403/FigmaTestComponentLibrary/src/server.ts", "pattern": "/^  const { protocol, originalUrl, baseUrl, headers } = req;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "indexHtml", "path": "/home/kavia/workspace/code-generation/figmatest-28358-24403/FigmaTestComponentLibrary/src/server.ts", "pattern": "/^const indexHtml = join(serverDistFolder, 'index.server.html');$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "originalUrl", "path": "/home/kavia/workspace/code-generation/figmatest-28358-24403/FigmaTestComponentLibrary/src/server.ts", "pattern": "/^  const { protocol, originalUrl, baseUrl, headers } = req;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "port", "path": "/home/kavia/workspace/code-generation/figmatest-28358-24403/FigmaTestComponentLibrary/src/server.ts", "pattern": "/^  const port = process.env['PORT'] || 4000;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "protocol", "path": "/home/kavia/workspace/code-generation/figmatest-28358-24403/FigmaTestComponentLibrary/src/server.ts", "pattern": "/^  const { protocol, originalUrl, baseUrl, headers } = req;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "serverDistFolder", "path": "/home/kavia/workspace/code-generation/figmatest-28358-24403/FigmaTestComponentLibrary/src/server.ts", "pattern": "/^const serverDistFolder = dirname(fileURLToPath(import.meta.url));$/", "language": "TypeScript", "kind": "constant"}], "hash": "2b01cdd40bb909f26c1bcd609dfb8a51", "format-version": 4, "code-base-name": "FigmaTestComponentLibrary", "filename": "FigmaTestComponentLibrary/src/server.ts", "revision_history": [{"41": "aff1c4dc03eae5d52ce270e0d1683fe0dba6f2bc"}]}